(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,n){e.exports=n(340)},288:function(e,t,n){},34:function(e,t,n){"use strict";var a={FETCH_USER:"FETCH_USER",LOGOUT_USER:"LOGOUT_USER"};n.d(t,"a",function(){return a})},340:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),u=n.n(c),o=n(32),i=n(25),l=n(110),s=n(112),p=n(108),f=n(26),d=n(18),m=Object(d.createMuiTheme)({typography:{useNextVariants:!0}}),E=n(86),h=(n(288),n(33)),b=n(23),v=n(51),y=(Object(o.b)(null,function(e){return{handleToken:function(t){return e(v.a.handleToken(t))}}})(Object(h.injectStripe)(function(e){return r.a.createElement(b.c,{open:!1,component:"form",onSubmit:function(t){t.preventDefault(),e.stripe.createToken({name:"Jenny Rosen"}).then(function(t){var n=t.token;e.handleToken(n)})}},r.a.createElement(b.f,{title:"Pay us money"}),r.a.createElement(b.g,null),r.a.createElement(b.e,null,r.a.createElement(h.CardElement,null)),r.a.createElement(b.g,null),r.a.createElement(b.d,{style:{textAlign:"center",padding:"10px"}},r.a.createElement(b.b,{style:{margin:"auto"},type:"submit"},"Submit")))})),Object(a.lazy)(function(){return n.e(3).then(n.bind(null,353))})),w=function(){return r.a.createElement("h2",null,"Dashboard")},O=function(){return r.a.createElement("h2",null,"SurveyNew")},g=Object(a.lazy)(function(){return n.e(4).then(n.bind(null,354))}),S=Object(o.b)(function(e){return{auth:e.auth}},function(e){return{fetchUser:function(){return e(E.a.fetchUser())}}})(function(e){var t=e.fetchUser,n=e.auth;Object(a.useEffect)(function(){console.log(n),t()},[n?n._id:n]);var c=Object(a.useState)(null),u=Object(s.a)(c,2),o=u[0],i=u[1];return Object(a.useEffect)(function(){window.Stripe?i(window.Stripe("pk_test_O5QbdxxYdT1vCitAdhv1ZeVm")):document.querySelector("#stripe-js").addEventListener("load",function(){i(window.Stripe("pk_test_O5QbdxxYdT1vCitAdhv1ZeVm"))})},[]),r.a.createElement(d.MuiThemeProvider,{theme:m},r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",{style:{width:"100%",height:"100%",position:"fixed",top:"0",left:"0"}},r.a.createElement("p",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},"Loading..."))},r.a.createElement(p.a,null,r.a.createElement(y,null),r.a.createElement(f.a,{path:"/surveys/new",component:O}),r.a.createElement(f.a,{path:"/surveys",component:w,exact:!0}),r.a.createElement(f.a,{path:"/",component:g,exact:!0})),r.a.createElement(h.StripeProvider,{stripe:o},r.a.createElement(h.Elements,null,r.a.createElement("billingDialog",null)))))}),j=n(34),x=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case j.a.FETCH_USER:return t.payload||!1;default:return e}}}),T=Object(i.d)(x,{},Object(i.a)(l.a));u.a.render(r.a.createElement(o.a,{store:T},r.a.createElement(S,null)),document.getElementById("root"))},51:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(27),r=n.n(a),c=n(53),u=n(54),o=n.n(u),i=n(34),l={fetchUser:function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/current_user");case 2:n=e.sent,t({type:i.a.FETCH_USER,payload:n.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},logoutUser:function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/logout");case 2:t({type:i.a.FETCH_USER,payload:!1});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},handleToken:function(e){return function(){var t=Object(c.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,o.a.post("/api/stripe",e);case 3:a=t.sent,n({type:i.a.FETCH_USER,payload:a.data});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}},86:function(e,t,n){"use strict";var a=n(51);n.d(t,"a",function(){return a.a})}},[[202,1,2]]]);
//# sourceMappingURL=main.0bda10fb.chunk.js.map