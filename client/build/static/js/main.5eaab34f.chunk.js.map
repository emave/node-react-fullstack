{"version":3,"sources":["Constants/authConstants.js","Constants/index.js","Config/Theme.js","Components/App.js","Components/Dialogs/bilingDialog.js","Reducers/index.js","Reducers/authReducers.js","index.js","Actions/authActions.js","Actions/index.js"],"names":["authConstants","FETCH_USER","LOGOUT_USER","__webpack_require__","d","__webpack_exports__","customTheme","createMuiTheme","typography","useNextVariants","Header","connect","dispatch","handleToken","token","authActions","injectStripe","props","react_default","a","createElement","index_es","open","component","onSubmit","e","preventDefault","stripe","createToken","name","then","_ref","title","react_stripe_elements_es","style","textAlign","padding","margin","type","lazy","bind","Dashboard","SurveyNew","Landing","auth","fetchUser","useEffect","console","log","_id","_useState","useState","_useState2","Object","slicedToArray","setStripe","window","Stripe","process","document","querySelector","addEventListener","styles","theme","react","fallback","width","height","position","top","left","transform","react_router_dom","react_router","path","exact","combineReducers","state","arguments","length","undefined","action","payload","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDom","render","es","Components_App","getElementById","_home_emave_Documents_Projects_mysterious_mountain_43373_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_emave_Documents_Projects_mysterious_mountain_43373_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","res","wrap","_context","prev","next","axios","get","sent","data","stop","_x","apply","this","logoutUser","_ref2","_callee2","_context2","_x2","_ref3","_callee3","_context3","post","_x3","_authActions__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/main.5eaab34f.chunk.js","sourcesContent":["export const authConstants = {\n    FETCH_USER: 'FETCH_USER',\n    LOGOUT_USER: 'LOGOUT_USER'\n};","export * from './authConstants';","import { createMuiTheme } from '@material-ui/core/styles';\n\nexport const customTheme = createMuiTheme({\n    typography: { useNextVariants: true },\n});","import React, {Suspense, lazy, useEffect, useState} from \"react\";\nimport {Route, BrowserRouter} from 'react-router-dom';\nimport {MuiThemeProvider} from '@material-ui/core/styles';\nimport {customTheme} from \"../Config/Theme\";\nimport {connect} from \"react-redux\";\nimport {authActions} from \"../Actions\";\nimport '../Styles/App.sass';\nimport {Elements, StripeProvider} from \"react-stripe-elements\";\nimport {billingDialog} from \"./Dialogs/bilingDialog\";\n\nconst Header = lazy(() => import('./Header'));\nconst Dashboard = () => <h2>Dashboard</h2>;\nconst SurveyNew = () => <h2>SurveyNew</h2>;\nconst Landing = lazy(() => import('./Landing'));\n\nconst App = (props) => {\n  const {fetchUser, auth} = props;\n\n  useEffect(() => {\n    console.log(auth);\n    fetchUser();\n  }, [auth ? auth._id : auth]);\n\n  const [stripe, setStripe] = useState(null);\n\n  useEffect(() => {\n    if (window.Stripe) {\n      setStripe(window.Stripe(process.env.REACT_APP_STRIPE_KEY));\n    } else {\n      document.querySelector('#stripe-js').addEventListener('load', () => {\n        setStripe(window.Stripe(process.env.REACT_APP_STRIPE_KEY));\n      });\n    }\n  }, []);\n\n  return (\n    <MuiThemeProvider theme={customTheme}>\n      <Suspense fallback={\n        <div style={{width: '100%', height: '100%', position: 'fixed', top: '0', left: '0'}}>\n          <p style={{position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)'}}>Loading...</p>\n        </div>\n      }>\n        <BrowserRouter>\n          <Header/>\n          <Route path={'/surveys/new'} component={SurveyNew}/>\n          <Route path={'/surveys'} component={Dashboard} exact/>\n          <Route path={'/'} component={Landing} exact/>\n        </BrowserRouter>\n\n        <StripeProvider stripe={stripe}>\n        <Elements>\n          <billingDialog/>\n        </Elements>\n      </StripeProvider>\n      </Suspense>\n    </MuiThemeProvider>\n  )\n};\n\nconst mapStateToProps = ({auth}) => ({auth});\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchUser: () => dispatch(authActions.fetchUser())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import React from 'react';\nimport {CardElement, injectStripe} from \"react-stripe-elements\";\nimport {\n  Button,\n  Dialog, DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider\n} from \"@material-ui/core\";\nimport {connect} from \"react-redux\";\nimport {authActions} from '../../Actions/authActions';\n\nconst Payments = (props) => {\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    props.stripe.createToken({name: 'Jenny Rosen'}).then(({token}) => {\n      props.handleToken(token);\n    });\n\n  };\n\n  return (\n    <Dialog open={false} component={'form'} onSubmit={submitHandler}>\n      <DialogTitle\n        title={'Pay us money'}\n      />\n      <Divider/>\n      <DialogContent>\n        <CardElement/>\n      </DialogContent>\n      <Divider/>\n      <DialogActions style={{textAlign: 'center', padding: '10px'}}>\n        <Button style={{margin: 'auto'}} type={'submit'}>Submit</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleToken: (token) => dispatch(authActions.handleToken(token))\n});\n\nconst connectedComponent = connect(null, mapDispatchToProps)(injectStripe(Payments));\n\nexport { connectedComponent as billingDialog };","import { combineReducers } from \"redux\";\nimport authReducer from './authReducers';\n\nexport default combineReducers({\n    auth: authReducer\n})","import {authConstants} from \"../Constants\";\n\n\nexport default (state = null, action) => {\n    console.log(action);\n    switch (action.type) {\n        case authConstants.FETCH_USER:\n            return action.payload || false;\n        default:\n            return state;\n    }\n};","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware} from \"redux\";\nimport reduxThunk from 'redux-thunk';\n\nimport App from \"./Components/App\";\nimport reducers from './Reducers';\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\n\nReactDom.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root'));","import axios from 'axios';\nimport {authConstants} from \"../Constants\";\n\nconst fetchUser = () => async dispatch => {\n  const res = await axios.get('/api/current_user');\n  dispatch({type: authConstants.FETCH_USER, payload: res.data});\n};\n\nconst logoutUser = () => async dispatch => {\n  await axios.get('/api/logout');\n  dispatch({type: authConstants.FETCH_USER, payload: false});\n};\n\nexport const handleToken = (token) => async dispatch => {\n  console.log(token);\n  const res = await axios.post('/api/stripe', token);\n  dispatch({type: authConstants.FETCH_USER, payload: res.data});\n};\n\nexport const authActions = {\n  fetchUser,\n  logoutUser,\n  handleToken\n};","export * from './authActions'"],"sourceRoot":""}