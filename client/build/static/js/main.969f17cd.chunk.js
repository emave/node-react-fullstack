(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{165:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(47),u=n.n(c),o=n(30),i=n(13),s=n(72),l=n(70),f=n(14),p=n(25),h=Object(p.createMuiTheme)({typography:{useNextVariants:!0}}),d=n(64),E=(n(165),Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,334))})),m=function(){return r.a.createElement("h2",null,"Dashboard")},v=function(){return r.a.createElement("h2",null,"SurveyNew")},y=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(5),n.e(6)]).then(n.bind(null,335))}),b=Object(o.b)(function(e){return{auth:e.auth}},function(e){return{fetchUser:function(){return e(d.a.fetchUser())}}})(function(e){var t=e.fetchUser,n=e.auth;return Object(a.useEffect)(function(){console.log(n),t()},[n?n._id:n]),r.a.createElement(p.MuiThemeProvider,{theme:h},r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",{style:{width:"100%",height:"100%",position:"fixed",top:"0",left:"0"}},r.a.createElement("p",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},"Loading..."))},r.a.createElement(l.a,null,r.a.createElement(E,null),r.a.createElement(f.a,{path:"/surveys/new",component:v}),r.a.createElement(f.a,{path:"/surveys",component:m,exact:!0}),r.a.createElement(f.a,{path:"/",component:y,exact:!0}))))}),w=n(19),O=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case w.a.FETCH_USER:return t.payload||!1;default:return e}}}),U=Object(i.d)(O,{},Object(i.a)(s.a));u.a.render(r.a.createElement(o.a,{store:U},r.a.createElement(b,null)),document.getElementById("root"))},19:function(e,t,n){"use strict";var a={FETCH_USER:"FETCH_USER",LOGOUT_USER:"LOGOUT_USER"};n.d(t,"a",function(){return a})},48:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(15),r=n.n(a),c=n(32),u=n(33),o=n.n(u),i=n(19),s={fetchUser:function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/current_user");case 2:n=e.sent,t({type:i.a.FETCH_USER,payload:n.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},logoutUser:function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/logout");case 2:t({type:i.a.FETCH_USER,payload:!1});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},handleToken:function(e){return function(){var t=Object(c.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,o.a.post("/api/stripe",e);case 3:a=t.sent,n({type:i.a.FETCH_USER,payload:a.data});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}},64:function(e,t,n){"use strict";var a=n(48);n.d(t,"a",function(){return a.a})},78:function(e,t,n){e.exports=n(171)}},[[78,2,3]]]);
//# sourceMappingURL=main.969f17cd.chunk.js.map